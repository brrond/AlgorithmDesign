package tests;

import logic.LFSR;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

class LFSRTest extends Assertions {

    private static LFSR lfsr1 = new LFSR(4, 25);
    private static LFSR lfsr2 = new LFSR(8, 275);
    private static LFSR lfsr3 = new LFSR(16, 109226);

    @Test
    void next1() {
        int seed = 8;
        final int[] results = {12, 14, 15, 7, 11, 5, 10, 13, 6, 3, 9, 4, 2, 1, 8};
        for (int res : results) {
            seed = lfsr1.next(seed);
            assertEquals(res, seed);
        }
    }

    @Test
    void next2() {
        int seed = 10;
        final int[] results = {133, 194, 225, 240, 248, 252, 254, 127, 191, 223, 239, 119, 187, 221, 110, 183, 219, 237, 246, 123, 189, 94, 47, 23, 139, 69, 162, 209, 104, 52, 154, 77, 166, 211, 233, 244, 250, 125, 62, 31, 143, 71, 35, 17, 8, 4, 2, 129, 192, 96, 48, 152, 204, 102, 179, 217, 108, 54, 27, 141, 198, 227, 113, 56, 156, 206, 231, 115, 185, 92, 174, 215, 235, 117, 58, 29, 14, 135, 67, 33, 144, 200, 100, 50, 25, 12, 6, 131, 65, 160, 80, 168, 84, 170, 213, 106, 181, 90, 45, 150, 75, 37, 146, 73, 164, 82, 41, 148, 202, 229, 242, 121, 60, 158, 79, 39, 19, 137, 196, 98, 177, 88, 172, 86, 43, 21, 10};
        for (int res : results) {
            seed = lfsr2.next(seed);
            assertEquals(res, seed);
        }
    }

    @Test
    void next3() {
        int seed = 10;
        final int[] results = {5, 2, 32769, 49152, 57344, 28672, 47104, 56320, 28160, 46848, 56192, 28096, 46816, 56176, 28088, 46812, 56174, 28087, 46811, 23405, 11702, 38619, 52077, 58806, 62171, 31085, 15542, 40539, 53037, 59286, 62411, 31205, 15602, 40569, 53052, 59294, 29647, 47591, 23795, 11897, 38716, 19358, 42447, 53991, 59763, 62649, 64092, 64814, 32407, 48971, 24485, 12242, 38889, 52212, 58874, 29437, 47486, 23743, 44639, 22319, 11159, 38347, 19173, 9586, 37561, 51548, 58542, 29271, 47403, 23701, 11850, 38693, 52114, 58825, 29412, 14706, 7353, 3676, 34606, 50071, 25035, 12517, 39026, 19513, 42524, 21262, 43399, 54467, 60001, 62768, 64152, 32076, 48806, 57171, 28585, 14292, 39914, 52725, 26362, 13181, 6590, 36063, 50799, 58167, 61851, 63693, 64614, 65075, 32537, 16268, 40902, 53219, 26609, 13304, 39420, 52478, 26239, 45887, 22943, 11471, 38503, 19251, 9625, 37580, 18790, 42163, 53849, 59692, 62614, 31307, 48421, 24210, 12105, 6052, 35794, 50665, 25332, 12666, 6333, 3166, 34351, 49943, 57739, 61637, 63586, 64561, 32280, 16140, 8070, 4035, 2017, 33776, 16888, 41212, 53374, 26687, 46111, 23055, 11527, 38531, 19265, 9632, 37584, 51560, 25780, 45658, 55597, 27798, 13899, 6949, 36242, 18121, 41828, 20914, 43225, 54380, 59958, 29979, 47757, 23878, 11939, 5969, 35752, 17876, 41706, 53621, 26810, 13405, 6702, 36119, 50827, 58181, 61858, 63697, 31848, 15924, 7962, 3981, 1990, 33763, 49649, 57592, 61564, 30782, 48159, 56847, 61191, 63363, 64449, 64992, 65264, 32632, 49084, 57310, 28655, 47095, 23547, 11773, 38654, 19327, 42431, 21215, 10607, 38071, 19035, 9517, 37526, 18763, 42149, 21074, 10537, 5268, 35402, 50469, 25234, 12617, 6308, 35922, 50729, 25364, 12682, 6341, 3170, 34353, 49944, 57740, 28870, 47203, 56369, 60952, 63244, 31622, 48579, 57057, 61296, 63416, 31708, 48622, 57079, 28539, 14269, 39902, 19951, 42743, 21371, 10685, 38110, 19055, 42295, 21147, 10573, 38054, 19027, 42281, 21140, 10570, 5285, 2642, 34089, 49812, 57674, 28837, 47186, 23593, 44564, 22282, 43909, 54722, 60129, 30064, 15032, 7516, 3758, 1879, 939, 33237, 16618, 8309, 4154, 34845, 50190, 57863, 28931, 14465, 40000, 20000, 42768, 54152, 27076, 46306, 55921, 27960, 13980, 6990, 3495, 1747, 33641, 16820, 8410, 4205, 2102, 33819, 49677, 57606, 61571, 30785, 15392, 40464, 53000, 26500, 46018, 55777, 27888, 13944, 6972, 3486, 1743, 871, 33203, 16601, 8300, 36918, 51227, 25613, 12806, 39171, 52353, 58944, 62240, 31120, 48328, 56932, 28466, 47001, 56268, 60902, 30451, 47993, 23996, 11998, 5999, 2999, 34267, 17133, 8566, 37051, 51293, 58414, 61975, 30987, 15493, 40514, 20257, 42896, 21448, 43492, 54514, 27257, 46396, 23198, 44367, 54951, 60243, 62889, 64212, 64874, 32437, 48986, 24493, 45014, 22507, 44021, 22010, 11005, 5502, 35519, 50527, 58031, 61783, 63659, 64597, 65066, 65301, 32650, 16325, 8162, 36849, 51192, 58364, 29182, 47359, 56447, 60991, 63263, 64399, 64967, 65251, 65393, 65464, 65500, 32750, 49143, 57339, 61437, 63486, 64511, 32255, 16127, 40831, 20415, 10207, 37871, 18935, 9467, 37501, 18750, 9375, 4687, 35111, 17555, 8777, 37156, 18578, 42057, 53796, 59666, 29833, 47684, 23842, 44689, 55112, 60324, 30162, 47849, 56692, 61114, 30557, 48046, 24023, 44779, 22389, 11194, 38365, 51950, 58743, 29371, 14685, 40110, 20055, 42795, 21397, 10698, 38117, 51826, 58681, 29340, 14670, 7335, 3667, 34601, 17300, 8650, 4325, 2162, 33849, 49692, 57614, 28807, 47171, 23585, 11792, 38664, 52100, 26050, 45793, 55664, 60600, 30300, 47918, 56727, 28363, 14181, 39858, 19929, 42732, 21366, 43451, 54493, 60014, 62775, 31387, 15693, 40614, 20307, 42921, 21460, 10730, 5365, 2682, 34109, 49822, 57679, 28839, 14419, 39977, 19988, 9994, 4997, 2498, 34017, 49776, 57656, 28828, 47182, 56359, 28179, 14089, 39812, 19906, 42721, 54128, 59832, 29916, 47726, 56631, 28315, 14157, 39846, 19923, 42729, 21364, 10682, 5341, 2670, 34103, 49819, 57677, 61606, 63571, 31785, 15892, 40714, 53125, 26562, 13281, 6640, 36088, 50812, 25406, 45471, 55503, 60519, 63027, 64281, 64908, 65222, 32611, 49073, 24536, 12268, 6134, 3067, 1533, 33534, 16767, 41151, 20575, 10287, 37911, 18955, 9477, 37506, 18753, 42144, 21072, 43304, 54420, 27210, 46373, 55954, 60745, 30372, 15186, 7593, 3796, 34666, 50101, 25050, 12525, 6262, 35899, 50717, 58126, 61831, 30915, 15457, 40496, 20248, 42892, 54214, 27107, 46321, 23160, 11580, 5790, 2895, 1447, 33491, 16745, 8372, 36954, 51245, 25622, 12811, 6405, 35970, 17985, 41760, 20880, 43208, 54372, 27186, 46361, 55948, 60742, 30371, 47953, 23976, 11988, 5994, 2997, 1498, 33517, 49526, 57531, 28765, 14382, 39959, 52747, 59141, 62338, 63937, 31968, 15984, 7992, 3996, 1998, 999, 499, 33017, 16508, 8254, 4127, 2063, 33799, 16899, 8449, 36992, 18496, 42016, 53776, 26888, 46212, 55874, 27937, 46736, 23368, 44452, 54994, 27497, 46516, 23258, 44397, 54966, 60251, 30125, 15062, 40299, 52917, 59226, 62381, 31190, 15595, 7797, 36666, 18333, 41934, 20967, 43251, 21625, 10812, 38174, 51855, 25927, 12963, 39249, 19624, 9812, 4906, 2453, 1226, 33381, 49458, 57497, 28748, 14374, 7187, 3593, 34564, 17282, 41409, 53472, 59504, 29752, 47644, 56590, 28295, 46915, 23457, 11728, 38632, 52084, 26042, 45789, 55662, 60599, 30299, 15149, 40342, 20171, 42853, 21426, 10713, 5356, 35446, 50491, 25245, 12622, 39079, 52307, 58921, 62228, 63882, 31941, 48738, 24369, 44952, 22476, 44006, 54771, 27385, 13692, 39614, 52575, 26287, 13143, 39339, 19669, 9834, 37685, 51610, 58573, 29286, 14643, 7321, 36428, 18214, 41875, 53705, 59620, 62578, 31289, 48412, 24206, 44871, 55203, 60369, 62952, 64244, 32122, 48829, 57182, 61359, 30679, 15339, 40437, 20218, 10109, 5054, 35295, 50415, 57975, 61755, 63645, 64590, 65063, 32531, 16265, 40900, 20450, 42993, 54264, 59900, 29950, 47743, 56639, 61087, 63311, 64423, 64979, 65257, 65396, 65466, 32733, 49134, 24567, 45051, 22525, 11262, 38399, 51967, 58751, 62143, 63839, 64687, 65111, 65323, 65429, 65482, 65509, 32754, 16377, 8188, 36862, 51199, 25599, 12799, 39167, 19583, 9791, 37663, 18831, 9415, 37475, 18737, 9368, 37452, 51494, 25747, 45641, 22820, 11410, 5705, 2852, 34194, 49865, 24932, 12466, 6233, 3116, 34326, 49931, 24965, 12482, 39009, 52272, 58904, 29452, 47494, 56515, 28257, 14128, 39832, 52684, 26342, 45939, 55737, 60636, 63086, 31543, 48539, 24269, 12134, 38835, 52185, 58860, 62198, 31099, 48317, 24158, 12079, 6039, 35787, 17893, 8946, 37241, 51388, 58462, 29231, 47383, 23691, 11845, 38690, 19345, 42440, 21220, 43378, 54457, 27228, 13614, 6807, 3403, 34469, 17234, 8617, 4308, 34922, 50229, 25114, 12557, 6278, 35907, 50721, 58128, 61832, 30916, 48226, 56881, 28440, 14220, 7110, 3555, 1777, 33656, 16828, 41182, 53359, 26679, 13339, 39437, 19718, 9859, 4929, 35232, 17616, 41576, 53556, 26778, 46157, 55846, 60691, 30345, 15172, 40354, 52945, 26472, 13236, 6618, 3309, 1654, 33595, 49565, 57550, 61543, 30771, 15385, 40460, 20230, 42883, 54209, 59872, 62704, 31352, 48444, 56990, 28495, 47015, 23507, 11753, 38644};
        for (int res : results) {
            seed = lfsr3.next(seed);
            assertEquals(res, seed);
        }
    }

}